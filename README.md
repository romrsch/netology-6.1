### Домашнее задание к занятию "6.1. Типы и структура СУБД"


#### Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
- Склады и автомобильные дороги для логистической компании
- Генеалогические деревья
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
- Отношения клиент-покупка для интернет-магазина


Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

***Ответ:***

- Электронные чеки в json виде: 
    * Документо-ориентированная СУБД. MongoDB — документо-ориентированная база данных (NoSQL).
Документы в MongoDB хранятся в JSON или BSON, работа с такой моделью проще кодируется и проще управляется.

- Склады и автомобильные дороги для логистической компании: 
    * Сетевая СУБД — построенная на основе сетевой модели данных. 
    * Графовые СУБД - Узел представляет собой объект. Ребро представляет собой отношение, которое соединяет узлы.

- Генеалогические деревья: 
    * Иерархическая. Данные организованы в древовидную структуру

- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации: 
    * Ключ-значение. Данные - совокупность пар «ключ‑значение», в которых ключ служит уникальным идентификатором.  

- Отношения клиент-покупка для интернет-магазина
    * Реляционная - данные хранятся в виде таблиц

---

#### Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
- Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

***Ответ:***

- Данные записываются на все узлы с задержкой до часа (асинхронная запись): 
    * CA 
    * EL-PC
- При сетевых сбоях, система может разделиться на 2 раздельных кластера: 
    * AP
    * PA-EL
- Система может не прислать корректный ответ или сбросить соединение:
    * CP
    * PA-EC

---

#### Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

***Ответ:***

Нам нужно будет выбрать, что нам важнее. 

- жесткая гарантированная надёжность транзакций и согласованность данных (принцип "ACID") 
- или более мягкая (гибкая) модель, где данные могут быть какое-то время несогласованными (принцип "BASE")

Подробнее:

в модели "BASE" еасть принцип: Soft State . Базы данных BASE практически полностью отказываются от требований согласованности модели ACID. Одна из основных концепций, лежащих в основе BASE, заключается в том, что согласованность данных является проблемой разработчика и не должна обрабатываться базой данных.

Итого: 
BASE - принцип, противопоставляет себя ACID.
это две разные модели и вместе в рамках одной системы они не смогут сочетаться.

---

#### Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора данной системы?

***Ответ:***

Возможно, это Redis - `Re`mote `Di`ctionary `S`erver) – это быстрое хранилище данных типа «ключ‑значение» в памяти с открытым исходным кодом.
 
- Все данные хранятся в оперативной памяти.
- Данным можно присваивать Time-To-Live
- Имеется встроенная система Pub/Sub.

"Плюсы" Redis  – скорость, работа с разнообразными данными (строки, списки, множества), доступность и масштабируемость

"Минусы" Redis - требовательность к ресурсам (оперативной памяти)


---